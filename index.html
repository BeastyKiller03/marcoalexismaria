<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>marcoalexismaria</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>

  <!-- Floating top-left title -->
  <div class="top-corner-title">
    <a href="index.html">Marco Maria</a>
  </div>

  <!-- Top-right links -->
  <div class="header">
    <div class="links">
      <a href="videos.html">Videos</a>
      <a href="music.html">Music</a>
      <a href="photos.html">Photographs</a>
      <a href="events.html">Events</a>
      <a href="https://www.instagram.com/marcoalexismaria/" target="_blank">Instagram</a>
      <a href="https://tumblr.com/blog/marcoalexismaria" target="_blank">Tumblr</a>
      <a href="mailto:mmarco8874@gmail.com">Email</a>
      <a href="background.html">About</a>
    </div>
  </div>

  <!-- MAIN area -->
  <main class="main-content">
    <div class="gallery-frame">
      <div class="gallery-row">

        <!-- PHOTOS — LAZY LOADED -->
        <a href="photos.html#img1"><img data-src="IMG_1.jpg"  alt="Image 1" class="lazy-img" /></a>
        <a href="photos.html#img2"><img data-src="IMG_2.jpg"  alt="Image 2" class="lazy-img" /></a>
        <a href="photos.html#img3"><img data-src="IMG_3.jpg"  alt="Image 3" class="lazy-img" /></a>
        <a href="photos.html#img4"><img data-src="IMG_4.jpg"  alt="Image 4" class="lazy-img" /></a>
        <a href="photos.html#img5"><img data-src="IMG_5.jpg"  alt="Image 5" class="lazy-img" /></a>
        <a href="photos.html#img6"><img data-src="IMG_6.jpg"  alt="Image 6" class="lazy-img" /></a>
        <a href="photos.html#img7"><img data-src="IMG_7.jpg"  alt="Image 7" class="lazy-img" /></a>
        <a href="photos.html#img8"><img data-src="IMG_8.jpg"  alt="Image 8" class="lazy-img" /></a>
        <a href="photos.html#img9"><img data-src="IMG_9.jpg"  alt="Image 9" class="lazy-img" /></a>
        <a href="photos.html#img10"><img data-src="IMG_10.jpg" alt="Image 10" class="lazy-img" /></a>

        <!-- VIDEOS — ALSO LAZY -->
        <a href="videos.html" class="video-thumb">
          <img data-src="img_02.png" alt="ANG3L — Official Video" class="lazy-img" />
        </a>
        <a href="videos.html" class="video-thumb">
          <img data-src="img_01.png" alt="ED-EMY — Official Video" class="lazy-img" />
        </a>
        <a href="videos.html" class="video-thumb">
          <img data-src="img_03.png" alt="TAPED" class="lazy-img" />
        </a>

      </div>
    </div>
  </main>

  <!-- Bottom-center footer -->
  <footer class="footer">
    <a href="secret.html">
      <span>© 3^07</span>
    </a>
  </footer>

  <script>
    /* ---- SHUFFLE IMAGES ---- */
    document.addEventListener("DOMContentLoaded", () => {
      const gallery = document.querySelector(".gallery-row");
      const items = Array.from(gallery.children);

      for (let i = items.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [items[i], items[j]] = [items[j], items[i]];
      }

      items.forEach(item => gallery.appendChild(item));
    });

    /* ---- TRUE LAZY LOADING (HORIZONTAL) ---- */
    document.addEventListener("DOMContentLoaded", () => {
      const lazyImages = document.querySelectorAll(".lazy-img");

      const options = {
        root: document.querySelector(".gallery-row"), // horizontal container
        rootMargin: "200px", // preload slightly before in view
        threshold: 0.01
      };

      const loadImage = (img) => {
        const src = img.getAttribute("data-src");
        if (!src) return;
        img.src = src;
        img.removeAttribute("data-src");
        img.classList.remove("lazy-img");
      };

      const observer = new IntersectionObserver((entries, obs) => {
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            loadImage(entry.target);
            obs.unobserve(entry.target);
          }
        });
      }, options);

      lazyImages.forEach(img => observer.observe(img));
    });
  </script>

</body>
</html>

